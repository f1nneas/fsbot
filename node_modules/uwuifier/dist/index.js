'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
const faces = [`(・\`ω´・)`, `;;w;;`, `owo`, `UwU`, `>w<`, `^w^`, `ÚwÚ`, `:3`, `x3`];
const actions = [
    `*blushes*`,
    `*whispers to self*`,
    `*sweats*`,
    `*sees buldge*`,
    `*runs away*`,
    `*huggles tightly*`,
    `*boops your nose*`,
    `*starts twerking*`,
];
const exclimations = [`?!!`, `?!?1`, `!!11`, `?!?!`, `!?`];
function getElement(array) {
    return array[Math.floor(Math.random() * array.length)];
}
function getRandomInt(min, max) {
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min + 1)) + min;
}
function uwuifyWord(word) {
    word = word.replace(/(?:r|l)/g, `w`);
    word = word.replace(/(?:R|L)/g, `W`);
    word = word.replace(/n([aeiou])/g, `ny$1`);
    word = word.replace(/N([aeiou])/g, `Ny$1`);
    word = word.replace(/N([AEIOU])/g, `Ny$1`);
    word = word.replace(/ove/g, `uv`);
    return word;
}
exports.uwuifyWord = uwuifyWord;
function uwuifySentence(sentence) {
    // Replace normal question marks and exclimations with more 'expressive' characters
    sentence = sentence.replace(new RegExp('[?!]+$'), getElement(exclimations));
    // Split the sentence into words
    const words = sentence.split(` `);
    const pattern = new RegExp(/(?:https?|ftp):\/\/[\n\S]+/g);
    let uwuified = ``;
    words.forEach((normalWord) => {
        const isUrl = pattern.test(normalWord);
        const isUwuified = normalWord !== uwuifyWord(normalWord);
        let uwuifiedWord = isUrl ? normalWord : uwuifyWord(normalWord);
        const random = Math.random();
        // 5% chance of getting a random face
        if (random <= 0.05) {
            uwuified += ` ${getElement(faces)}`;
            // 5% chance of a getting a random action
        }
        else if (random <= 0.10) {
            uwuified += ` ${getElement(actions)}`;
            // 10% chance of stutter if the word hasn't been uwuified before for readability
        }
        else if (random <= 0.20 && !isUwuified && !isUrl) {
            const letter = normalWord[0];
            const stutter = getRandomInt(0, 2);
            for (let i = 0; i < stutter; i++) {
                uwuifiedWord = `${letter}-${uwuifiedWord}`;
            }
        }
        uwuified += ` ${uwuifiedWord}`;
    });
    return uwuified;
}
exports.uwuifySentence = uwuifySentence;
// Get a random uwu face
function uwuFace() {
    return faces[Math.floor(Math.random() * faces.length)];
}
exports.uwuFace = uwuFace;
